<form>
    <field>
        <id>instance.enabled</id>
        <label>Enabled</label>
        <type>checkbox</type>
        <help>This will enable or disable the instance.</help>
        <grid_view>
            <width>6em</width>
            <type>boolean</type>
            <formatter>rowtoggle</formatter>
        </grid_view>
    </field>
    <field>
        <id>instance.name</id>
        <label>Name</label>
        <type>text</type>
        <help>Set the name for this instance.</help>
        <ValidationMessage>Name is required</ValidationMessage>
    </field>
    <field>
        <id>instance.instance</id>
        <label>Instance</label>
        <type>info</type>
        <help>This is the instance number to give the AmneziaWG device a unique name (awgX).</help>
        <grid_view>
            <column-id>interface</column-id>
        </grid_view>
    </field>
    <field>
        <id>instance.description</id>
        <label>Description</label>
        <type>text</type>
        <help>Optional description for this instance.</help>
        <grid_view>
            <visible>false</visible>
        </grid_view>
    </field>
    <field>
        <id>instance.private_key</id>
        <label>Private key</label>
        <type>text</type>
        <help>Private key of this instance. You can specify your own one, or generate one with the gear button. Please keep this key safe.</help>
        <ValidationMessage>A private key is required</ValidationMessage>
        <grid_view>
            <ignore>true</ignore>
        </grid_view>
    </field>
    <field>
        <id>instance.listen_port</id>
        <label>Listen port</label>
        <type>text</type>
        <help>Port for this instance to listen on.</help>
    </field>
    <field>
        <id>instance.address</id>
        <label>Address</label>
        <style>tokenize</style>
        <type>select_multiple</type>
        <allownew>true</allownew>
        <help>List of addresses to configure on the device. Please use CIDR notation like 10.0.0.1/24.</help>
    </field>
    <field>
        <id>instance.dns</id>
        <label>DNS servers</label>
        <type>select_multiple</type>
        <style>tokenize</style>
        <allownew>true</allownew>
        <help>Set specific DNS servers for this instance.</help>
        <grid_view>
            <visible>false</visible>
        </grid_view>
    </field>
    <field>
        <id>instance.table</id>
        <label>Table</label>
        <type>text</type>
        <help>Routing table (default: off).</help>
        <grid_view>
            <visible>false</visible>
        </grid_view>
    </field>
    <field>
        <id>instance.postup</id>
        <label>PostUp</label>
        <type>text</type>
        <help>PostUp script command.</help>
        <grid_view>
            <visible>false</visible>
        </grid_view>
    </field>
    <field>
        <id>instance.preup</id>
        <label>PreUp</label>
        <type>text</type>
        <help>PreUp script command.</help>
        <grid_view>
            <visible>false</visible>
        </grid_view>
    </field>
    <field>
        <id>instance.mtu</id>
        <label>MTU</label>
        <type>text</type>
        <help>Set a specific device MTU for this instance.</help>
        <grid_view>
            <visible>false</visible>
        </grid_view>
    </field>
    <!-- AmneziaWG specific fields -->
    <field>
        <id>instance.jc</id>
        <label>Jc</label>
        <type>text</type>
        <help>AmneziaWG jc parameter.</help>
        <grid_view>
            <visible>false</visible>
        </grid_view>
    </field>
    <field>
        <id>instance.jmin</id>
        <label>Jmin</label>
        <type>text</type>
        <help>AmneziaWG jmin parameter.</help>
        <grid_view>
            <visible>false</visible>
        </grid_view>
    </field>
    <field>
        <id>instance.jmax</id>
        <label>Jmax</label>
        <type>text</type>
        <help>AmneziaWG jmax parameter.</help>
        <grid_view>
            <visible>false</visible>
        </grid_view>
    </field>
    <field>
        <id>instance.s1</id>
        <label>S1</label>
        <type>text</type>
        <help>AmneziaWG s1 parameter.</help>
        <grid_view>
            <visible>false</visible>
        </grid_view>
    </field>
    <field>
        <id>instance.s2</id>
        <label>S2</label>
        <type>text</type>
        <help>AmneziaWG s2 parameter.</help>
        <grid_view>
            <visible>false</visible>
        </grid_view>
    </field>
    <field>
        <id>instance.h1</id>
        <label>H1</label>
        <type>text</type>
        <help>AmneziaWG h1 parameter.</help>
        <grid_view>
            <visible>false</visible>
        </grid_view>
    </field>
    <field>
        <id>instance.h2</id>
        <label>H2</label>
        <type>text</type>
        <help>AmneziaWG h2 parameter.</help>
        <grid_view>
            <visible>false</visible>
        </grid_view>
    </field>
    <field>
        <id>instance.h3</id>
        <label>H3</label>
        <type>text</type>
        <help>AmneziaWG h3 parameter.</help>
        <grid_view>
            <visible>false</visible>
        </grid_view>
    </field>
    <field>
        <id>instance.h4</id>
        <label>H4</label>
        <type>text</type>
        <help>AmneziaWG h4 parameter.</help>
        <grid_view>
            <visible>false</visible>
        </grid_view>
    </field>
    <field>
        <id>instance.userland</id>
        <label>Userland</label>
        <type>checkbox</type>
        <help>Enable userland mode.</help>
        <grid_view>
            <visible>false</visible>
            <type>boolean</type>
            <formatter>boolean</formatter>
        </grid_view>
    </field>
    <!-- Peer settings -->
    <field>
        <id>instance.peer_public_key</id>
        <label>Peer Public Key</label>
        <type>text</type>
        <help>Public key of the peer.</help>
        <ValidationMessage>A peer public key is required</ValidationMessage>
        <grid_view>
            <visible>false</visible>
        </grid_view>
    </field>
    <field>
        <id>instance.peer_preshared_key</id>
        <label>Peer Preshared Key</label>
        <type>text</type>
        <help>Preshared key for the peer (optional).</help>
        <grid_view>
            <ignore>true</ignore>
        </grid_view>
    </field>
    <field>
        <id>instance.peer_allowed_ips</id>
        <label>Peer Allowed IPs</label>
        <style>tokenize</style>
        <type>select_multiple</type>
        <allownew>true</allownew>
        <help>Allowed IPs for the peer.</help>
        <grid_view>
            <visible>false</visible>
        </grid_view>
    </field>
    <field>
        <id>instance.peer_endpoint</id>
        <label>Peer Endpoint</label>
        <type>text</type>
        <help>Endpoint address and port of the peer (e.g., 1.2.3.4:51820).</help>
        <ValidationMessage>Please enter a valid endpoint in format host:port</ValidationMessage>
    </field>
    <field>
        <id>instance.peer_persistent_keepalive</id>
        <label>Peer Persistent Keepalive</label>
        <type>text</type>
        <help>Persistent keepalive interval in seconds.</help>
        <grid_view>
            <visible>false</visible>
        </grid_view>
    </field>
    <field>
        <id>instance.peer_routes</id>
        <label>Peer Routes</label>
        <type>text</type>
        <help>Additional routes for the peer.</help>
        <grid_view>
            <visible>false</visible>
        </grid_view>
    </field>
</form> 